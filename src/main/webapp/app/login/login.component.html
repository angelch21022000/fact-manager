<div class="login-container min-vh-100 d-flex align-items-center justify-content-center">
  <div class="login-background"></div>

  <div class="row w-100 justify-content-center">
    <div class="col-xxl-4 col-lg-4 col-md-6 col-sm-8 col-10">
      <!-- Card Principal con diseño moderno -->
      <p-card class="login-card" [style]="{ 'box-shadow': '0 10px 30px rgba(0,0,0,0.1)' }">
        <!-- Header con logo y título -->
        <ng-template pTemplate="header">
          <div class="text-center w-100 py-3">
            <div class="logo-container mb-3">
              <i class="pi pi-prime logo-icon"></i>
            </div>
            <h2 class="mb-1 fw-bold text-dark" data-cy="loginTitle" jhiTranslate="login.title">Welcome to PrimeLand</h2>
            <p class="text-muted small mb-0">¡Bienvenido a FactManager, tu gestor de facturas favorito!</p>
          </div>
        </ng-template>

        <!-- Formulario de Login -->
        <form class="form" (ngSubmit)="login()" [formGroup]="loginForm">
          <!-- Campo Usuario -->
          <div class="mb-4">
            <label
              class="form-label text-dark small fw-semibold mb-2 d-flex align-items-center"
              for="username"
              jhiTranslate="global.form.username.label"
            >
              <i class="pi pi-user me-2"></i> Username
            </label>
            <span class="p-input-icon-left w-100">
              <input
                pInputText
                type="text"
                class="w-100"
                name="username"
                id="username"
                placeholder="{{ 'global.form.username.placeholder' | translate }}"
                formControlName="username"
                data-cy="username"
              />
            </span>
            @if (loginForm.get('username')?.invalid && loginForm.get('username')?.touched) {
              <small class="text-danger d-flex align-items-center mt-1">
                <i class="pi pi-info-circle me-1"></i> El usuario es requerido
              </small>
            }
          </div>

          <!-- Campo Contraseña -->
          <div class="mb-4">
            <label
              class="form-label text-dark small fw-semibold mb-2 d-flex align-items-center"
              for="password"
              jhiTranslate="login.form.password"
            >
              <i class="pi pi-lock me-2"></i> Password
            </label>
            <p-password
              id="password"
              formControlName="password"
              name="password"
              [feedback]="false"
              [toggleMask]="true"
              placeholder="{{ 'login.form.password.placeholder' | translate }}"
              inputStyleClass="w-100"
              styleClass="w-100"
              [class]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched ? 'ng-invalid ng-dirty' : ''"
              data-cy="password"
            >
              <ng-template pTemplate="header">
                <div class="p-2">
                  <h6>Requisitos de contraseña</h6>
                </div>
              </ng-template>
              <ng-template pTemplate="footer">
                <div class="p-2">
                  <p class="mb-1">Sugerencia: Use una contraseña segura</p>
                </div>
              </ng-template>
            </p-password>
            @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
              <small class="text-danger d-flex align-items-center mt-1">
                <i class="pi pi-info-circle me-1"></i> La contraseña es requerida
              </small>
            }
          </div>

          <!-- Recordar usuario y contraseña olvidada -->
          <div class="d-flex justify-content-between align-items-center mb-4">
            <div class="d-flex align-items-center">
              <p-checkbox
                formControlName="rememberMe"
                name="rememberMe"
                [binary]="true"
                inputId="rememberMe"
                styleClass="mr-2"
              ></p-checkbox>
              <label class="form-check-label small text-muted mb-0 ms-2" for="rememberMe" jhiTranslate="login.form.rememberme">
                Remember me
              </label>
            </div>

            <!-- Forgot Password -->
            <a
              class="small text-primary text-decoration-none"
              routerLink="/account/reset/request"
              data-cy="forgetYourPasswordSelector"
              jhiTranslate="login.password.forgot"
            >
              Forgot password?
            </a>
          </div>

          <!-- Botón Login -->
          <button
            type="submit"
            pButton
            pRipple
            class="w-100 login-button"
            data-cy="submit"
            [disabled]="loginForm.invalid"
            jhiTranslate="login.form.button"
          >
            <i class="pi pi-sign-in me-2"></i> Sign in
          </button>
        </form>

        <!-- Separador -->
        <!-- <div class="divider d-flex align-items-center my-4">
          <p class="text-center fw-semibold mx-3 mb-0 text-muted">OR</p>
        </div> -->

        <!-- Botones de redes sociales -->
        <!-- <div class="d-grid gap-2 mb-4">
          <button pButton pRipple class="p-button-outlined p-button-secondary w-100">
            <i class="pi pi-google me-2"></i> Continue with Google
          </button>
          <button pButton pRipple class="p-button-outlined p-button-secondary w-100">
            <i class="pi pi-facebook me-2"></i> Continue with Facebook
          </button>
        </div> -->

        <!-- Register Link -->
        <div class="text-center mt-3">
          <span class="text-muted" jhiTranslate="global.messages.info.register.noaccount">¿Aún no tienes una cuenta?</span>
          <a
            class="text-primary fw-semibold text-decoration-none ms-1"
            routerLink="/account/register"
            jhiTranslate="global.messages.info.register.link"
          >
            Crea una cuenta
          </a>
        </div>
      </p-card>
    </div>
  </div>
</div>
